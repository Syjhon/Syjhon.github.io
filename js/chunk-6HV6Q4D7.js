function I(e,i=o){let t=b(e,i);return t&&(t.tabIndex=0,t.focus()),t}function h(e,i=o){let t=P(e,i);return t&&(t.tabIndex=0,t.focus()),t}function k(e,i=o){let t=l(e,i);return t&&(t.item.tabIndex=-1),t}function l(e,i=o){for(let t=0;t<e.length;t++){let s=e[t];if(s.tabIndex===0&&i(s))return{item:s,index:t}}return null}function b(e,i=o){for(let t of e)if(i(t))return t;return null}function P(e,i=o){for(let t=e.length-1;t>=0;t--){let s=e[t];if(i(s))return s}return null}function y(e,i,t=o){for(let s=1;s<e.length;s++){let f=(s+i)%e.length,n=e[f];if(t(n))return n}return e[i]?e[i]:null}function D(e,i,t=o){for(let s=1;s<e.length;s++){let f=(i-s+e.length)%e.length,n=e[f];if(t(n))return n}return e[i]?e[i]:null}function d(e,i,t=o){if(i){let s=y(e,i.index,t);return s&&(s.tabIndex=0,s.focus()),s}else return I(e,t)}function A(e,i,t=o){if(i){let s=D(e,i.index,t);return s&&(s.tabIndex=0,s.focus()),s}else return h(e,t)}function E(){return new Event("deactivate-items",{bubbles:!0,composed:!0})}function L(){return new Event("request-activation",{bubbles:!0,composed:!0})}function o(e){return!e.disabled}var m={ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowUp:"ArrowUp",ArrowRight:"ArrowRight",Home:"Home",End:"End"},x=class{constructor(i){this.handleKeydown=a=>{let r=a.key;if(a.defaultPrevented||!this.isNavigableKey(r))return;let c=this.items;if(!c.length)return;let u=l(c,this.isActivatable);u&&(u.item.tabIndex=-1),a.preventDefault();let v=this.isRtl(),R=v?m.ArrowRight:m.ArrowLeft,N=v?m.ArrowLeft:m.ArrowRight;switch(r){case m.ArrowDown:case N:d(c,u,this.isActivatable);break;case m.ArrowUp:case R:A(c,u,this.isActivatable);break;case m.Home:I(c,this.isActivatable);break;case m.End:h(c,this.isActivatable);break;default:break}},this.onDeactivateItems=()=>{let a=this.items;for(let r of a)this.deactivateItem(r)},this.onRequestActivation=a=>{this.onDeactivateItems();let r=a.target;this.activateItem(r),r.focus()},this.onSlotchange=()=>{let a=this.items,r=!1;for(let u of a){if(!u.disabled&&u.tabIndex>-1&&!r){r=!0,u.tabIndex=0;continue}u.tabIndex=-1}if(r)return;let c=b(a,this.isActivatable);c&&(c.tabIndex=0)};let{isItem:t,getPossibleItems:s,isRtl:f,deactivateItem:n,activateItem:g,isNavigableKey:p,isActivatable:w}=i;this.isItem=t,this.getPossibleItems=s,this.isRtl=f,this.deactivateItem=n,this.activateItem=g,this.isNavigableKey=p,this.isActivatable=w}get items(){let i=this.getPossibleItems(),t=[];for(let s of i){if(this.isItem(s)){t.push(s);continue}let n=s.item;n&&this.isItem(n)&&t.push(n)}return t}activateNextItem(){let i=this.items,t=l(i,this.isActivatable);return t&&(t.item.tabIndex=-1),d(i,t,this.isActivatable)}activatePreviousItem(){let i=this.items,t=l(i,this.isActivatable);return t&&(t.item.tabIndex=-1),A(i,t,this.isActivatable)}};export{k as a,l as b,b as c,P as d,E as e,L as f,m as g,x as h};
